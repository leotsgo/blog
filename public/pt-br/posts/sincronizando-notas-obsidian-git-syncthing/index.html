<!doctype html><html lang=pt-br><head><title>Sincronizando Notas do Obsidian Com Git e Syncthing ¬∑ leotsgo
</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Leonardo Bermejo"><meta name=description content="Fazer anota√ß√µes e construir meu Zettelkasten est√° se tornando uma parte cada vez mais importante da minha vida. Com ele me torno capaz de refletir sobre meus sentimentos e meus aprendizados, fazendo conex√µes que n√£o apareceriam de outra forma.
Um aspecto importante do h√°bito de tomar notas √© a capacidade de fazer anota√ß√µes em m√∫ltiplos dispositivos onde quer que eu esteja. Nesse artigo irei explicar como configurei a sincroniza√ß√£o das minhas notas em diferentes dispositivos."><meta name=keywords content="blog,desenvolvedor,pessoal"><meta name=fediverse:creator content><meta name=twitter:card content="summary"><meta name=twitter:title content="Sincronizando Notas do Obsidian Com Git e Syncthing"><meta name=twitter:description content="Fazer anota√ß√µes e construir meu Zettelkasten est√° se tornando uma parte cada vez mais importante da minha vida. Com ele me torno capaz de refletir sobre meus sentimentos e meus aprendizados, fazendo conex√µes que n√£o apareceriam de outra forma.
Um aspecto importante do h√°bito de tomar notas √© a capacidade de fazer anota√ß√µes em m√∫ltiplos dispositivos onde quer que eu esteja. Nesse artigo irei explicar como configurei a sincroniza√ß√£o das minhas notas em diferentes dispositivos."><meta property="og:url" content="https://www.leotsgo.dev/pt-br/posts/sincronizando-notas-obsidian-git-syncthing/"><meta property="og:site_name" content="leotsgo"><meta property="og:title" content="Sincronizando Notas do Obsidian Com Git e Syncthing"><meta property="og:description" content="Fazer anota√ß√µes e construir meu Zettelkasten est√° se tornando uma parte cada vez mais importante da minha vida. Com ele me torno capaz de refletir sobre meus sentimentos e meus aprendizados, fazendo conex√µes que n√£o apareceriam de outra forma.
Um aspecto importante do h√°bito de tomar notas √© a capacidade de fazer anota√ß√µes em m√∫ltiplos dispositivos onde quer que eu esteja. Nesse artigo irei explicar como configurei a sincroniza√ß√£o das minhas notas em diferentes dispositivos."><meta property="og:locale" content="pt_br"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-09-21T00:00:00+00:00"><meta property="article:modified_time" content="2024-09-21T00:00:00+00:00"><meta property="article:tag" content="Zettelkasten"><meta property="article:tag" content="Homelab"><link rel=canonical href=https://www.leotsgo.dev/pt-br/posts/sincronizando-notas-obsidian-git-syncthing/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.07092c1350ffd254998dc43a44ae96e617d14af4df4602626878df89189c5e1a.css integrity="sha256-BwksE1D/0lSZjcQ6RK6W5hfRSvTfRgJiaHjfiRicXho=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.ico sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://www.leotsgo.dev/pt-br/>leotsgo
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/pt-br/now/>Agora</a></li><li class=navigation-item><a class=navigation-link href=/pt-br/about/>Sobre</a></li><li class=navigation-item><a class=navigation-link href=/pt-br/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/pt-br/contact/>Contato</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class=navigation-item><a href=/posts/sync-obsidian-notes-with-git-and-syncthing/>üá∫üá∏</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://www.leotsgo.dev/pt-br/posts/sincronizando-notas-obsidian-git-syncthing/>Sincronizando Notas do Obsidian Com Git e Syncthing</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2024-09-21T00:00:00Z>setembro 21, 2024
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
3 minutos de leitura</span></div><div class=authors><i class="fa-solid fa-user" aria-hidden=true></i>
<a href=/pt-br/authors/leonardo-bermejo/>Leonardo Bermejo</a></div><div class=categories><i class="fa-solid fa-folder" aria-hidden=true></i>
<a href=/pt-br/categories/tech/>Tech</a></div><div class=tags><i class="fa-solid fa-tag" aria-hidden=true></i>
<span class=tag><a href=/pt-br/tags/zettelkasten/>Zettelkasten</a>
</span><span class=separator>‚Ä¢</span>
<span class=tag><a href=/pt-br/tags/homelab/>Homelab</a></span></div></div></header><div class=post-content><p>Fazer anota√ß√µes e construir meu Zettelkasten est√° se tornando uma parte cada vez mais importante da minha vida. Com ele me torno capaz de refletir sobre meus sentimentos e meus aprendizados, fazendo conex√µes que n√£o apareceriam de outra forma.</p><p>Um aspecto importante do h√°bito de tomar notas √© a capacidade de fazer anota√ß√µes em m√∫ltiplos dispositivos onde quer que eu esteja. Nesse artigo irei explicar como configurei a sincroniza√ß√£o das minhas notas em diferentes dispositivos.</p><h1 id=o-problema>O Problema
<a class=heading-link href=#o-problema><i class="fa-solid fa-link" aria-hidden=true title="Link para o cabe√ßalho"></i>
<span class=sr-only>Link para o cabe√ßalho</span></a></h1><p>Em 2024, j√° √© poss√≠vel usar o Plugin do Git para Obsidian para fazer as sincroniza√ß√µes das notas no Android, por√©m <a href=https://www.reddit.com/r/ObsidianMD/comments/17odzjb/obsidian_android_syncing_via_github_in_2023/ class=external-link target=_blank rel=noopener>apenas via https</a>. Como estou usando um reposit√≥rio privado do Github para sincronizar minhas notas, n√£o me senti confort√°vel em ter uma <em>access key</em> no meu telefone em um arquivo de texto puro.</p><h1 id=a-solu√ß√£o>A Solu√ß√£o
<a class=heading-link href=#a-solu%c3%a7%c3%a3o><i class="fa-solid fa-link" aria-hidden=true title="Link para o cabe√ßalho"></i>
<span class=sr-only>Link para o cabe√ßalho</span></a></h1><p>Tenho um pequeno clone do RasperryPi chamado OrangePi. E se eu pudesse sincronizar um diret√≥rio do meu telefone como um diret√≥rio do meu OrangePi ? Eu poderia ent√£o apenas automatizar o processo de fazer commits e push no meu reposit√≥rio, enquanto a integra√ß√£o com o telefone ficasse com outra ferramenta - O Syncthing.</p><h1 id=o-como>O Como
<a class=heading-link href=#o-como><i class="fa-solid fa-link" aria-hidden=true title="Link para o cabe√ßalho"></i>
<span class=sr-only>Link para o cabe√ßalho</span></a></h1><p>Para essa configura√ß√£o vou assumir que voc√™ j√° tenha o git configurado na sua m√°quina e o <a href=https://syncthing.net/ class=external-link target=_blank rel=noopener>Syncthing</a> instalado. Ap√≥s a instala√ß√£o, temos que garantir que o Syncthing rodar√° como um <a href=https://docs.syncthing.net/users/autostart.html#how-to-set-up-a-system-service class=external-link target=_blank rel=noopener>system service</a> e n√£o um user service no systemd:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl <span class=nb>enable</span> syncthing@myuser.service
</span></span><span class=line><span class=cl>systemctl start syncthing@myuser.service
</span></span></code></pre></div><p>Em que <strong>myuser</strong> √© o nome de um usu√°rio na sua m√°quina. Com isso feito, basta usar a interface gr√°fica do Syncthing para habilitar a integra√ß√£o com outros dispositivos. N√£o entrarei em detalhes j√° que existem muitos artigos explicando <a href=https://medium.com/linuxforeveryone/how-to-sync-all-your-stuff-with-syncthing-linux-android-guide-536fe61d68df class=external-link target=_blank rel=noopener>como fazer</a> a integra√ß√£o usando o WebGUI. Basta ter o aplicativo do Syncthing no seu Android e seguir os passos.</p><p>Com a sincroniza√ß√£o ativada, precisamos de um script pra ser executado por nosso servi√ßo do systemd. Esse script faz pull do Github, commita as diferen√ßas que existem localmente e em seguida faz o push:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> /home/youruser/sb
</span></span><span class=line><span class=cl>git pull
</span></span><span class=line><span class=cl>git add --all
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;manual backup: </span><span class=k>$(</span>date <span class=s1>&#39;+%Y-%m-%d %H:%M:%S&#39;</span><span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>git push
</span></span></code></pre></div><p>Coloquei esse script na home do meu usu√°rio com o nome de <strong>sync.sh</strong>. √â necess√°rio dar permiss√£o de execu√ß√£o para o script:
<code>chmod +x sync.sh</code></p><p>Agora precisamos apenas configurar o servi√ßo e o timer do systemd. No meu caso, rodo esse script uma vez por minuto, mas voc√™ pode usar a frequ√™ncia que quiser.</p><p>Va at√© <code>/etc/systemd/system</code> e crie dois arquivos - <code>syncsb.service</code> and <code>syncsb.timer</code>. Os nomes n√£o importam desde que voc√™ seja consistente com os nomes ao fazer os apontamentos nos arquivos. O servi√ßo ser√° respons√°vel por rodar o script, e a execu√ß√£o s√≥ acontece quando o gatilho do timer ocorrer.</p><p>syncsb.service:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>Unit<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>Description</span><span class=o>=</span>Sync my notes
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>Service<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>Type</span><span class=o>=</span>simple
</span></span><span class=line><span class=cl><span class=nv>User</span><span class=o>=</span>myuser
</span></span><span class=line><span class=cl><span class=nv>Environment</span><span class=o>=</span><span class=nv>HOME</span><span class=o>=</span>/home/myuser
</span></span><span class=line><span class=cl><span class=nv>WorkingDirectory</span><span class=o>=</span>/home/myuser/notes-repository
</span></span><span class=line><span class=cl><span class=nv>ExecStart</span><span class=o>=</span>/home/myuser/sync.sh
</span></span><span class=line><span class=cl><span class=nv>Restart</span><span class=o>=</span>on-failure
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>Install<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>WantedBy</span><span class=o>=</span>default.target
</span></span></code></pre></div><p>N√£o se esque√ßa de passar corretamente o nome do usu√°rio ou o script pode n√£o ter privil√©gios para executar comandos git.</p><p>syncsb.timer:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>Unit<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>Description</span><span class=o>=</span>Sync notes every minute
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>Timer<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>OnUnitActiveSec</span><span class=o>=</span>1min
</span></span><span class=line><span class=cl><span class=nv>Unit</span><span class=o>=</span>syncsb.service
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>Install<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>WantedBy</span><span class=o>=</span>timers.target
</span></span></code></pre></div><p>O campo <strong>Unit</strong> embaixo de <strong>Timer</strong> precisa ter o mesmo nome do seu servi√ßo.</p><p>Com os arquivos criados, execute os seguintes comandos:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Faz o reload do daemon para que os arquivos possam ser lidos</span>
</span></span><span class=line><span class=cl>sudo systemctl daemon-reload
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># habilita e inicia o servi√ßo e o timer</span>
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> syncsb.timer
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> syncsb.service
</span></span><span class=line><span class=cl>sudo systemctl start syncsb.timer
</span></span></code></pre></div><p>E feito! Dessa maneira todas as mudan√ßas que voc√™ fizer em um dispositivo ser√£o sincronizadas com os demais. Apenas tome cuidado para n√£o editar um arquivo em mais de um dispositivo antes da sincroniza√ß√£o acontecer.</p></div><footer></footer></article></section></div><footer class=footer><section class=container>¬©
2024
Leonardo Bermejo
¬∑
Licensed under <a rel=license href=http://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA-4.0</a>
¬∑
Promovido por <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script></body></html>